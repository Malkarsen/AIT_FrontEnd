const formElement = document.getElementById("form");
const listElement = document.getElementById("persons-list");
const clearBtnElement = document.getElementById("clear");
const clearOneBtnElement = document.getElementById("clear-one");

const persons = [];
// –°–ø–µ—Ä–≤–∞ –ø–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ getElementById
// formElement - —ç—Ç–æ –æ–±—ä–µ–∫—Ç —Ñ–æ—Ä–º—ã c –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º "form"
// listElement - —ç—Ç–æ –æ–±—ä–µ–∫—Ç —Å–ø–∏—Å–∫–∞ —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º "persons-list"
// clearBtnElement - —ç—Ç–æ –æ–±—ä–µ–∫—Ç –∫–Ω–æ–ø–∫–∏ —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º "clear" - –æ—á–∏—Å—Ç–∏—Ç—å –≤–µ—Å—å —Å–ø–∏—Å–æ–∫
// clearOneBtnElement - —ç—Ç–æ –æ–±—ä–µ–∫—Ç –∫–Ω–æ–ø–∫–∏ —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º "clear-one" - –æ—á–∏—Å—Ç–∏—Ç—å –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞

const clearList = () => {
  while (listElement.hasChildNodes()) {
    // –ø–æ–∫–∞ –µ—Å—Ç—å –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–ø–∏—Å–∫–∞
    listElement.firstChild.remove(); // —É–¥–∞–ª—è–µ–º –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞
  }
};

const clearOne = () => {
  if (listElement.hasChildNodes()) {
    listElement.firstChild.remove();
  }
};

// –§—É–Ω–∫—Ü–∏—è clearInputs —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –¥–æ–±–∞–≤–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫
const clearInputs = (event) => {
  event.target.nickname.value = "";
  event.target.place.value = "";
};

// –§—É–Ω–∫—Ü–∏—è changeStatus —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –ª–∏–±–æ —É–±–∏—Ä–∞–µ—Ç –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ
const changeStatus = (event) => {
  if (event.target.style.textDecoration === "line-through") {
    event.target.style.textDecoration = "none";
  } else {
    event.target.style.textDecoration = "line-through";
  }
};

clearBtnElement.addEventListener("click", clearList);
clearOneBtnElement.addEventListener("click", clearOne);

formElement.addEventListener("submit", (event) => {
  event.preventDefault(); // –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥—Ä—É–≥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
  const person = {
    name: event.target.nickname.value,
    place: event.target.place.value,
  };
  
  persons.push(person);
  //–û–±—ä–µ–∫—Ç person –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –º–∞—Å—Å–∏–≤ persons
  // –î–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Å–≤–æ–π—Å—Ç–≤–∞ target –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –æ–±—ä–µ–∫—Ç person
  // –û–±—ä–µ–∫—Ç –∏–º–µ–µ—Ç –¥–≤–∞ —Å–≤–æ–π—Å—Ç–≤–∞ name –∏ place –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã

  const liElement = document.createElement("li"); // —Å–æ–∑–¥–∞–ª–∏ —Ç–µ–≥ li
  liElement.textContent = `${person.name} ${person.place}ü•∑üèª`; // –¥–æ–±–∞–≤–∏–ª–∏ —Ç–µ–∫—Å—Ç –≤ li
  liElement.onclick = changeStatus; // –¥–æ–±–∞–≤–∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –Ω–∞ li

  listElement.append(liElement); // –¥–æ–±–∞–≤–∏–ª–∏ li –≤ –∫–æ–Ω–µ—Ü —Å–ø–∏—Å–∫–∞
  clearInputs(event); // –æ—á–∏—Å—Ç–∏–ª–∏ —Ñ–æ—Ä–º—É
});
